<!DOCTYPE html>
<html lang="fr">
<head>
<link rel="icon" href="https://raw.githubusercontent.com/HansHugoHMB/Images/main/FAV.ico" type="image/x-icon">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Power Family Présences</title>
    <style>
        /* ... vos styles CSS existants ... */
    </style>
<link rel="manifest" href="/manifest.json">
    </head>
<body style="font-family: serif;">
    <meta charset="UTF-8">
    <title>Power Family Présences</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        /* Style pour le conteneur du tableau pour le centrer */
        .table-container {
            display: flex; /* Utilisation de flexbox pour le centrage */
            justify-content: center; /* Centrer horizontalement */
            margin-left: 3mm; /* Marge à gauche de 3mm */
            margin-right: 3mm; /* Marge à droite de 3mm */
            width: auto; /* Ajuster la largeur automatiquement au contenu */
        }

        table {
            border-collapse: collapse;
            margin-bottom: 15px;
            width: 100%; /* Le tableau prend 100% de la largeur de son conteneur */
            max-width: 1000px; /* Optionnel : pour limiter la largeur maximale du tableau si nécessaire */
        }
        th, td { border: 1px solid #C0C0C0; padding: 1px; text-align: center; }
        .code-input {  
    width: 25px;  
    text-align: center;  
    margin: 0 auto;  
}

        /* Couleurs des lignes */
        tr:nth-child(3n+1) { background-color: #0D1C40; }
        tr:nth-child(3n+2) { background-color: #0D1C40; }
        tr:nth-child(3n+3) { background-color: #0D1C40; }

        .valid { background-color: #0D1C40 !important; }
        .invalid { background-color: #FF0000 !important; }

        /* Style du bouton */
        #printBtn {
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-bottom: 20px;
        }

        #totalSection {
            margin: 20px 0;
            padding: 15px;
            background-color: #f0f0f0;
            border-radius: 5px;
        }

        /* Styles pour les nouvelles sections de listes */
        .present-students-section, .absent-students-section {
            margin-top: 30px;
            padding: 15px;
            border-radius: 5px;
        }

        .present-students-section {
            background-color: rgba(173, 216, 230, 0.3); /* Bleu transparent */
        }

        .absent-students-section {
            background-color: rgba(255, 182, 193, 0.3); /* Rose transparent */
        }

        .present-students-section h3, .absent-students-section h3 {
            margin-top: 0;
        }
         .fraude-students-section {
            margin-top: 30px;
            padding: 15px;
            background-color: #ffe0b2;
            border-radius: 5px;
        }
         .fraude-students-section h3 {
            margin-top: 0;
        } 
<!DOCTYPE html>
<html>
<head>
<style>
.rdc-banner {
    position: relative;
    width: 100%;
    height: 1cm;
    overflow: hidden;
}

.color-wave {
    width: 300%;
    height: 100%;
    background: linear-gradient(
        to right,
        #0077B5,
        #0077B5 33.33%,
        #FFD700 33.33%,
        #FFD700 66.66%,
        #CE1126 66.66%,
        #CE1126 100%
    );
    animation: slide 10s linear infinite;
}

@keyframes slide {
    0% { transform: translateX(-66.66%); }
    100% { transform: translateX(0); }
}
</style>
<link rel="manifest" href="/manifest.json">
</head>
<body>

<div class="rdc-banner">
    <div class="color-wave"></div>
</div>

</body>
</html>

<style>
/* --- Styles à ajouter pour le tableau avec espacement de 1cm --- */
.table-container table {
    border-spacing: 0 1cm; /* Espacement vertical entre les lignes de 1cm */
    border-radius: 8px; /* Bordures rondes pour le tableau */
    overflow: hidden; /* Important pour que les bordures rondes fonctionnent avec l'espacement */
}

.table-container th {
    background-color: #0D1C40; /* Couleur de l'entête du site */
    color: white; /* Assurez-vous que le texte de l'entête est lisible */
    padding: 5px; /* Conservez le padding existant ou ajustez-le */
    text-align: left; /* Conservez l'alignement du texte */
}

.table-container thead tr th:first-child {
    border-top-left-radius: 5px;
}

.table-container thead tr th:last-child {
    border-top-right-radius: 5px;
}

.table-container tbody tr {
    background-color: rgba(13, 28, 64, 0.05); /* Fond légèrement transparent pour les lignes */
    border-radius: 5px; /* Bordures rondes pour les lignes */
}

.table-container tbody tr td:first-child {
    border-bottom-left-radius: 5px;
}

.table-container tbody tr td:last-child {
    border-bottom-right-radius: 5px;
}

.table-container td {
    padding: 5px; /* Conservez le padding existant ou ajustez-le */
}
</style>
</head>
<body style="font-family: 'Changa', sans-serif;">

<div class="rdc-banner">
    <div class="color-wave"></div>
</div>

</body>
</html>

<br>
    <div>
<h4 style="text-align: center;">LISTE DES PRÉSENCES</h4>
     </div>

    <div class="table-container">  <table>
            <thead>
                <tr>
                    <th>N°</th>
                    <th style="text-align: left;">Nom</th>
                    <th style="text-align: center;">Code</th>
                    <th>Statut</th>
                </tr>
            </thead>
            <tbody id="studentList">
                </tbody>
        </table>
    </div>

<div class="statistiques-container">
    <h3>Statistiques en temps réel</h3>
    <div class="stat">
        <div class="present">
            Présents: <span id="totalPresent">0</span>
        </div>
        <div class="absent">
            Absents: <span id="totalAbsent">0</span>
        </div>
        <div class="frauduleux">
            Frauduleux: <span id="totalFraude">0</span>
        </div>
    </div>
</div>

<style>
    /* Conteneur principal avec couleur et bordure */
    .statistiques-container {
        margin: 20px 0;
        padding: 15px;
        background: #0D1C40; /* Même couleur que les autres divs */
        color: white;
        text-align: center;
        border-radius: 15px;
        border: 5px solid transparent;
        border-image: linear-gradient(
            90deg, 
            #1E90FF, /* Bleu */
            #FFD700, /* Jaune */
            #CE1126  /* Rouge */
        ) 1;
    }

    /* Contenu des statistiques */
    .statistiques-container h3 {
        font-size: 16px; /* Taille réduite */
        font-weight: bold;
        font-style: italic;
        text-transform: uppercase;
    }

    .statistiques-container .stat {
        display: flex;
        gap: 20px;
        justify-content: center;
        margin-top: 10px;
    }

    .statistiques-container .stat div {
        padding: 10px;
        border-radius: 5px;
        font-weight: bold;
    }

    .present { background: #000000; color: #FFFFFF; }
    .absent { background: #000000; color: #FFFFFF; }
    .frauduleux { background: #000000; color: #FFFFFF; }

</style>


<div class="fraude-students-section" style="background-color: #0D1C40; color: white; padding: 10px; border-radius: 8px; width: 80%; margin: 0 auto; margin-bottom: 5mm;">
    <table style="width: 100%; border-collapse: collapse; color: white;">
        <thead>
            <tr>
                <th style="text-align: center; padding: 5px; border-bottom: 1px solid white;">Étudiants avec code erroné</th>
            </tr>
        </thead>
        <tbody id="fraudeStudentListTable">
            </tbody>
    </table>
</div>

<div class="present-students-section" style="background-color: #0D1C40; color: white; padding: 10px; border-radius: 8px; width: 80%; margin: 0 auto; margin-bottom: 5mm;">
    <table style="width: 100%; border-collapse: collapse; color: white;">
        <thead>
            <tr>
                <th style="text-align: center; padding: 5px; border-bottom: 1px solid white;">Liste des étudiants présents</th>
            </tr>
        </thead>
        <tbody id="presentStudentListTable">
            </tbody>
    </table>
</div>

<div class="absent-students-section" style="background-color: #0D1C40; color: white; padding: 10px; border-radius: 8px; width: 80%; margin: 0 auto;">
    <table style="width: 100%; border-collapse: collapse; color: white;">
        <thead>
            <tr>
                <th style="text-align: center; padding: 5px; border-bottom: 1px solid white;">Liste des étudiants absents</th>
            </tr>
        </thead>
        <tbody id="absentStudentListTable">
            </tbody>
    </table>
</div>

    <script>
        // Liste complète des élèves avec codes AAA000+
        const students = [
            { name: "IBEMBA – NTEMBI", code: "AAA000" },
            { name: "KITAMBWE - MUDIMBI", code: "AAA001" },
            { name: "MBALA - LUBAKI", code: "AAA002" },
            { name: "MBALA - MBIMBA", code: "AAA003" },
            { name: "MBAMBINA - WAZANGBA", code: "AAA004" },
            { name: "MBANDJO – IYELE", code: "AAA005" },
            { name: "MBATU - KIMWANGA", code: "AAA006" },
            { name: "MBAYA – BAYA – HANS", code: "AAA007" },
            { name: "MBAYA – FAUSTIN", code: "AAA008" },
            { name: "MBAYO – BONONGE", code: "AAA009" },
            { name: "MBEKU – ELEKWA", code: "AAA010" },
            { name: "MBELE – KALUSUTI", code: "AAA011" },
            { name: "MBELENGA-MBOMBAWANDE", code: "AAA012" },
            { name: "MBEMA – ZONGO", code: "AAA013" },
            { name: "MBEMBA – KUKU – MIRADIE", code: "AAA014" },
            { name: "MBENGI – MBO", code: "AAA015" },
            { name: "MBIMBA - MUFUNGIZI", code: "AAA016" },
            { name: "MBIRIZE - IMANI", code: "AAA017" },
            { name: "MBO – MFUMU", code: "AAA018" },
            { name: "MBO – WEMBA", code: "AAA019" },
            { name: "MBOBO – LUPOMBO", code: "AAA020" },
            { name: "MBOKO –NTOKO", code: "AAA021" },
            { name: "MBOLOLO – MWIMPE", code: "AAA022" },
            { name: "MBOMA – KALAMBA", code: "AAA023" },
            { name: "MBOMA – NDOSALA", code: "AAA024" },
            { name: "MBOMA – TAUBALA", code: "AAA025" },
            { name: "MBOSO – MAWETE", code: "AAA026" },
            { name: "MBUAKI - MIEZI", code: "AAA027" },
            { name: "MBUBA - NDONGALA", code: "AAA028" },
            { name: "MBUEZO – LUNGENY", code: "AAA029" },
            { name: "MBUKA - MATUVANG", code: "AAA030" },
            { name: "MBUKU – KISALU", code: "AAA031" },
            { name: "MBULA – MBANZA", code: "AAA032" },
            { name: "MBULAYI - TSHIBANGU", code: "AAA033" },
            { name: "MBUMBA – NDEMBE", code: "AAA034" },
            { name: "MBUYA - MUJANI", code: "AAA035" },
            { name: "MBUYAMBA - TSHISWAKA", code: "AAA036" },
            { name: "MBUYI – KOLE", code: "AAA037" },
            { name: "MBUYI – NDAYE", code: "AAA038" },
            { name: "MBWELIMA - TANGA", code: "AAA039" },
            { name: "MBWITI - KUYAKANA", code: "AAA040" },
            { name: "MEKANDA – IWOKO", code: "AAA041" },
            { name: "MENEMENE – NKOSI", code: "AAA042" },
            { name: "MENGA - MABALA", code: "AAA043" },
            { name: "MESA – MUSALU", code: "AAA044" },
            { name: "MFULUNGANI -NFULAMESO", code: "AAA045" },
            { name: "MIANTISE – NDOOLE", code: "AAA046" },
            { name: "MIBO – MPEWA", code: "AAA047" },
            { name: "MIKADI – MIKADI", code: "AAA048" },
            { name: "MIKOBI – BELAPIO", code: "AAA049" },
            { name: "MIKUBA – ALFANI", code: "AAA050" },
            { name: "MILONGA - MUDIMBANYA", code: "AAA051" },
            { name: "MILUMBU – KABUYA", code: "AAA052" },
            { name: "MINGA – KWETE", code: "AAA053" },
            { name: "MINGA – MBATSHI", code: "AAA054" },
            { name: "MINGA – PONGO", code: "AAA055" },
            { name: "MIOMA – KINGOMBE", code: "AAA056" },
            { name: "MIOMO – MAKANDA", code: "AAA057" },
            { name: "MISENGABU - TEGRA", code: "AAA058" },
            { name: "MISIONO – MVUNGU", code: "AAA059" },
            { name: "MITSHIABU - ILUNGA", code: "AAA060" },
            { name: "MITUNGA - MUBIANGAT", code: "AAA061" },
            { name: "MITUNGINI – LUZOLO", code: "AAA062" },
            { name: "MOBAO – MOPIA", code: "AAA063" },
            { name: "MOBONDA - BOYELE", code: "AAA064" },
            { name: "MODJA – ETOTI", code: "AAA065" },
            { name: "MOGBOKULA-NDOLE", code: "AAA066" },
            { name: "MOHELE – MATUKA", code: "AAA067" },
            { name: "MOKIE - INKINI", code: "AAA068" },
            { name: "MOKILI - KATSHULU - JERDAM", code: "AAA069" },
            { name: "MOKOSI – KETA", code: "AAA070" },
            { name: "MOKOYO-BOKIANGA", code: "AAA071" },
            { name: "MOKUBA – BAPELE", code: "AAA072" },
            { name: "MOKUTU – GOLO", code: "AAA073" },
            { name: "MOLITHIO – NDOPO", code: "AAA074" },
            { name: "MOMELE – BOKILA", code: "AAA075" },
            { name: "MONGA - MOKESA", code: "AAA076" },
            { name: "MONGBANI – AKOSU", code: "AAA077" },
            { name: "MONSENGO-MAFISANGO", code: "AAA078" },
            { name: "MONSENGO - NTWABOY", code: "AAA079" },
            { name: "MOONGO - BOMPUSA", code: "AAA080" },
            { name: "MOPAYI – BOKUNGU", code: "AAA081" },
            { name: "MOPIA - BENIE", code: "AAA082" },
            { name: "MOPINI – NGOBILA", code: "AAA083" },
            { name: "MOPOLO – LENGO", code: "AAA084" },
            { name: "MOTOKWA - DIDO", code: "AAA085" },
            { name: "MOUTSIEKOU - PANDI", code: "AAA086" },
            { name: "MOWENI – BOPOPI", code: "AAA087" },
            { name: "MPAMALEO - BOSONTIA", code: "AAA088" },
            { name: "MPANA - NGAMBIELI", code: "AAA089" },
            { name: "MPATA - LITUMBE", code: "AAA090" },
            { name: "MPAY – NKE", code: "AAA091" },
            { name: "MPELA – BAWESI", code: "AAA092" },
            { name: "MPEMBE – BASSA", code: "AAA093" },
            { name: "MPENGELE – PONGO", code: "AAA094" },
            { name: "MPETSHI - BANGONGO", code: "AAA095" },
            { name: "MPEYA – LINGONGO", code: "AAA096" },
            { name: "MWANGANI - KATIMUKA", code: "AAA097" },
            { name: "NOYO – MUKENDI", code: "AAA098" }
        ];

        let fraudeStudents = []; // Tableau pour stocker les étudiants frauduleux
        let presentStudents = []; // Tableau pour stocker les étudiants présents
        let absentStudents = []; // Tableau pour stocker les étudiants absents


        function renderList() {
            const tbody = document.getElementById('studentList');
            tbody.innerHTML = students.map((student, index) => `
                <tr id="row-${index}">
                    <td>${index + 1}</td>
                    <td style="text-align: left;">${student.name}</td>
                                                <td>
                        <input class="code-input" type="password"
                               oninput="validateCode(${index}, this.value)">
                       <span id="status-${index}" style="display:none; alignItems:Centrer">★✔★</span>

                    <td id="textStatus-${index}">Absent</td>
                </tr>
            `).join('');
        }

        function updateTotals() {
            let present = 0, absent = 0, fraude = 0;
            presentStudents = []; // Réinitialiser la liste des présents
            absentStudents = [];  // Réinitialiser la liste des absents


            students.forEach((student, index) => {
                const status = document.getElementById(`textStatus-${index}`).textContent;
                if(status === "Présent") {
                    present++;
                    presentStudents.push(student.name); // Ajouter à la liste des présents
                }
                else if(status === "Fraudeur") fraude++;
                else {
                    absent++;
                    absentStudents.push(student.name); // Ajouter à la liste des absents
                }
            });

            document.getElementById('totalPresent').textContent = present;
            document.getElementById('totalAbsent').textContent = absent;
            document.getElementById('totalFraude').textContent = fraude;

            updatePresentListDisplay(); // Mettre à jour la liste des présents
            updateAbsentListDisplay();  // Mettre à jour la liste des absents
        }

        function updateFraudeListDisplay() {
    const fraudeListTableBody = document.getElementById('fraudeStudentListTable');
    fraudeListTableBody.innerHTML = '';

    fraudeStudents.forEach(studentName => {
        const row = fraudeListTableBody.insertRow();
        const cell = row.insertCell();
        cell.textContent = studentName;
        cell.style.padding = '5px';
        cell.style.textAlign = 'center';
        cell.style.borderBottom = '1px solid #ddd';
    });
}

        function updatePresentListDisplay() {
    const presentListTableBody = document.getElementById('presentStudentListTable');
    presentListTableBody.innerHTML = '';

    presentStudents.forEach(studentName => {
        const row = presentListTableBody.insertRow();
        const cell = row.insertCell();
        cell.textContent = studentName;
        cell.style.padding = '5px';
        cell.style.textAlign = 'center';
        cell.style.borderBottom = '1px solid #ddd';
    });
}

        function updateAbsentListDisplay() {
    const absentListTableBody = document.getElementById('absentStudentListTable');
    absentListTableBody.innerHTML = '';

    absentStudents.forEach(studentName => {
        const row = absentListTableBody.insertRow();
        const cell = row.insertCell();
        cell.textContent = studentName;
        cell.style.padding = '5px'; // Ajouter un peu de padding pour l'affichage
        cell.style.textAlign = 'center'; // Aligner le texte à gauche
        cell.style.borderBottom = '1px solid #ddd'; // Ajouter une bordure légère entre les lignes (optionnel)
    });
}


        function validateCode(index, value) {
            const row = document.getElementById(`row-${index}`);
            const statusTextElement = document.getElementById(`textStatus-${index}`);
            const statusSpanElement = document.getElementById(`status-${index}`);
            const codeInputElement = row.querySelector('.code-input');
            const studentName = students[index].name;


            if (value === students[index].code) {
                row.classList.add('valid');
                row.classList.remove('invalid');
                statusTextElement.innerText = "Présent";
                codeInputElement.style.display = 'none';
                statusSpanElement.style.display = 'inline';

                // Retirer de la liste fraude, si présent
                fraudeStudents = fraudeStudents.filter(name => name !== studentName);


            } else if (value.length >= 6) {
                row.classList.add('invalid');
                row.classList.remove('valid');
                statusTextElement.innerText = "Fraudeur";
                codeInputElement.style.display = 'inline';
                statusSpanElement.style.display = 'none';

                // Ajouter à la liste fraude, si non présent
                if (!fraudeStudents.includes(studentName)) {
                    fraudeStudents.push(studentName);
     